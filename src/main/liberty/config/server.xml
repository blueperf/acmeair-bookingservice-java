<?xml version="1.0" encoding="UTF-8"?>
<server description="new server">
	<!-- Enable features -->
	<featureManager>
		<feature>usr:opentracingZipkin-0.31</feature>
                <feature>mpRestClient-1.2</feature>
                <feature>mpFaultTolerance-2.0</feature>
                <feature>mpHealth-1.0</feature>
                <feature>mpConfig-1.3</feature> 
                <feature>mpMetrics-1.1</feature> 
                <feature>mpOpenTracing-1.3</feature>
                <feature>mpJwt-1.1</feature> 
                <feature>mpOpenAPI-1.1</feature>
                <feature>jndi-1.0</feature>
                <feature>jsp-2.3</feature>
                <feature>servlet-4.0</feature>
                <feature>managedBeans-1.0</feature>
                <feature>websocket-1.1</feature>
	</featureManager>

	<!-- To access this server from a remote client add a host attribute to 
		the following element, e.g. host="*" -->
	<httpEndpoint id="defaultHttpEndpoint" host="*"
		httpPort="9080" httpsPort="9443">
	</httpEndpoint>

	<opentracingZipkin />

	<webApplication name="acmeair-bookingservice"
		location="acmeair-bookingservice-java-2.0.0-SNAPSHOT.war"
		contextRoot="/" />

        <mpJwt id="jwtUserConsumer" keyName="default" audiences="acmeair-ms" issuer="http://acmeair-ms"/>
        <keyStore id="defaultKeyStore" password="secret" location="/config/resources/security/key.jks"/>
        <authentication id="Basic" cacheEnabled="false" />
</server>
